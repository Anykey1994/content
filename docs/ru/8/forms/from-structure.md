---
id: from-structure
title: Структура форм
path: /8/form/structure
core: 8
metatags:
  title: 'Drupal 8: Структура форм'
  description: 'Структура форм в Drupal 8.'
category:
  area: Формы
  title: Структура
  order: 2
---

Drupal предоставляет базовый объект `Drupal\Core\Form\FormBase`, который можно использовать для создания всевозможных форм.

`FormBase` используется по-разному, например, можно наследоваться напрямую от данного объекта для создания своей формы, либо создавать новые базовые объекты форм, которые имеют дополнительный функционал или возможности.

Например, в ядре можно выделить:

- `Drupal\Core\Form\FormBase`: Описан выше, общий объект для создания любых форм.
- `Drupal\Core\Form\ConfigFormBase`: Предназначен для форм редактирования каких-либо настроек. В основном подходит для административного интерфейса и подразумевает что данные будут храниться в конфигурациях.
- `Drupal\Core\Form\ConfirmFormBase`: Форма подтверждения какого-либо действия, например, удаления содержимого.
- `Drupal\Core\Entity\EntityForm`: Базовый объект для создания форм редактирования, добавления и прочих, связанных с какой-то сущностью.

и т.д.

## Структура FormBase

`FormBase` является базовым объектом всех возможных форм в Drupal, следовательно, весь его функционал доступен в любой другой форме.

`FormBase` предоставляет следующие методы, которые вы можете переопределять в своих формах:

- `create()`: Позволяет внедрять сервисы в качестве зависимостей. Для более подробного описания поведения смотрите [Dependency Injection](../services/dependency-injection.md).
- `config()`: Получает объект конфигурации по её названию. Данная конфигурация будет в режиме чтения.
- `getRequest()`: Возвращает текущей объект запроса.
- `getRouteMatch()`: Возвращает объект `RouteMatchInterface`.
- `currentUser()`: Возвращает объект `AccountInterface` содержащий информацию о текущем пользователе.

Это лишь методы, которые могут быть полезны и интересны, объект также содержит и другие методы.

`FormBase` реализует интерфейс `Drupal\Core\Form\FormInterface`, который требует создания некоторых методов:

- `getFormId()`: Возвращает строку с уникальным идентификатором формы.
- `buildForm()`: Возвращает рендер массив в котором и описана форма.
- `validatedForm()`: (опционально) Метод производящий валидацию формы.
- `submitForm()`: Производит обработку отправленных данных формой.

## Построение формы

Построение формы — процесс, в котором описываются элементы формы.

Формы являются рендер массивами, следовательно, описываются в виде специально оформленных PHP масивов. В форме могут быть как `RenderElement`, так и `FormElement`. Рендер элементы будут обрабатываться, как обычно, и могут быть использованы для вывода какой-то разметки или данных. Данные поступившие с форм элементов будут обрабатываться и передаваться на валидацию и отправку формы.

@todo закончить

## Валидация формы

## Обработка формы

