---
id: standards-comments-and-api
title: Стандарты API документации и комментариев
path: /docs/standards/api-and-comments
metatags:
  title: 'Drupal: Стандарты описания API и комментариев к коду'
  description: 'Стандарты о том, как правильно описывать и документировать свой код в комментариях.'
category-area: Стандарты кодирования
category-order: 3
category-title: API документация и комментарии
---

На данной страницы описаны стандаты, покрывающие написание комментариев к коду, а также, как документировать его API.

## Заметки и стандарты

### Общие соображения по разбору модулем API

Модуль API парсит как документацию, так и сам код PHP файлов. Ожидается что они будут в едином формате, который похож на PHPDoc, JavaDoc и т.д. Изначально документация базировалась на Doxygen, но затем переросла его и появились свои собственные теги, а также специфичный для Drupal функционал.

Модуль API парсит документацию, которая находится в специальных документационных блоках (также известных как "docblocks").

Пример синтаксиса docblock:

```php
/**
 * Sample summary line.
 *
 * Next paragraph. Etc.
 */
(code being documented goes here, such as a function declaration, class, etc.)
```

Общие заметки касаемо модуля API и документации, которую он будет парсить:

- Модуль API считает следующие расширения файлов, как расширения PHP: .php, .module, .inc, .install, .engine, .theme, .profile и .test.
- Когда парсится PHP файл, модуль API парсит как документацию, так и непосредственно PHP код. PHP файлы с синтаксическими ошибками, могут привести к проблемам.
- Документация распознается только по специальным PHP комментариям, которые начинаются с `/**`.
- Одностроковые комментарии внутри кода, начинающиеся с `//` и комментарии начинающиеся с `/*` не распознаются как docblock.
- Документационные блоки обычно имеют `*` в начали каждой линии, которые модуль API срезает при формировании документации.
- Для разделения абзацев используется пустая строка. Некоторые теги также вызвают принудительное завершение параграфа: `@param`, `@return`, `@see`, `@var`. Модуль API не понимает документацию, если она состоит только из одиночного тега, например `@param`.
- Модуль API не беспокоится о длине строки комментария, тем не менее, Drupal стандарты имеют жесткие требования на данный счёт.
- Первый абзац документационного блока также известен как _сводка_.
- Для того чтобы задокументировать функцию, класс и т.д., документационный блок должен находиться прямо перед началом структуры, без пустых линий между ними. В стандарте также имеются несколько документационных блоков, которые "сами по себе".
- Модуль API автоматически превращает в ссылки все распознанные функции, классы и т.д.

### Общие стандарты документирования API

В данном разделе собраны заметки и стандарты относительно всех документационных блоков.

Пример:

```php
/**
 * Sample summary line.
 *
 * Next paragraph. Etc.
 */
(code being documented goes here, such as a function declaration, class, etc.)
```

- Вся документация и комментарии должны быть в соответствующей форме, использовать правильную грамматику и пунктуацию, а также следовать общим указания на счёт содержимого drupal.org: <https://drupal.org/style-guide/content>.
- Добавляйте пробел между символами комментария (`*` или `//`) и первым сиволом предложения.
- Документация должна отражать актуальную версию кода, а не отличия от предыдущей или планы на будущую (за исключением `@todo` и `@deprecated` тегов).
- Предложения должны быть разделены одиночным пробелом.
- Комментарии и названия переменных должны быть на английском языке, а также использовать правописание английского языка США, а не Великобритании (например, "color", а не "colour").
- Для того чтобы отослаться к теме или модулю, используйте формулировку и заглавные буквы, например "the Foo Bar module".
- Капсом разрешено описывать только константы, например `TRUE`.
- Документационные блоки должны иметь `*` в начале каждой линии.
- Линии содержающие комментарии, включая документационные блоки, должны быть как можно ближе к 80 символам, но не дленнее данного значения. Есть несколько исключений, они будут описаны отдельно.
- Линии после тегов, таких как `@param`, `@return` и т.д., должны содержать документацию под данным тегом, а также дополнительно сдвинутые двумя пробелами.
- Каждая функция, константа, класс, интерфейс, а также составные класса (методы, свойства, константы), как и сам файл, должны быть задокументированны, даже те, что являются приватными.
- Все _сводки_ (первая линия документационного блока) должны быть короче 80 символов, начинаться с заглавной буквы и заканчиваться точкой (.). Они должны предоставлять краткое описание, что делает функция, что делает класс, что содержит файл и т.д.
- Когда вы реализуете {хук}(hooks:8), используйте краткую сводку в формате "Implements hook_name().". В данном случае, опустите описание параметров, возвращаемого значения и функции.


## Ссылки

- [API documentation and comment standards](https://www.drupal.org/docs/develop/standards/api-documentation-and-comment-standards), Drupal.org.